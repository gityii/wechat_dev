	
2 实现“你问我答”	

   目的：
	1）理解被动消息的含义
	2）理解收\发消息机制

    预实现功能: 粉丝给公众号一条文本消息，公众号立马回复一条文本消息给粉丝，不需要通过公众平台网页操作。
	
2.1 接受文本消息
	即粉丝给公众号发送的文本消息。
	粉丝给公众号发送文本消息：“欢迎开启公众号开发者模式”，在开发者后台，收到公众平台发送的xml 如下：（下文均隐藏了ToUserName 及 FromUserName 信息）

    <xml>
    <ToUserName><![CDATA[公众号]]></ToUserName>
    <FromUserName><![CDATA[粉丝号]]></FromUserName>
    <CreateTime>1460537339</CreateTime>
    <MsgType><![CDATA[text]]></MsgType>
    <Content><![CDATA[欢迎开启公众号开发者模式]]></Content>
    <MsgId>6272960105994287618</MsgId>
    </xml> 
    
    解释：
    createTime 是微信公众平台记录粉丝发送该消息的具体时间
    text: 用于标记该xml 是文本消息，一般用于区别判断
    欢迎开启公众号开发者模式: 说明该粉丝发给公众号的具体内容是欢迎开启公众号开发者模式
    MsgId: 是公众平台为记录识别该消息的一个标记数值, 微信后台系统自动产生
	

2.2 被动回复文本消息
	即公众号给粉丝发送的文本消息。
	特别强调：
	1） 被动回复消息，即发送被动响应消息，不同于客服消息接口
	2） 它其实并不是一种接口，而是对微信服务器发过来消息的一次回复
	3） 收到粉丝消息后不想或者不能5秒内回复时，需回复“success”字符串（下文详细介绍）
	4） 客服接口在满足一定条件下随时调用
	
    公众号想回复给粉丝一条文本消息，内容为“test”, 那么开发者发送给公众平台后台的xml 内容如下：
    
     <xml>
    <ToUserName><![CDATA[粉丝号]]></ToUserName>
    <FromUserName><![CDATA[公众号]]></FromUserName>
    <CreateTime>1460541339</CreateTime>
    <MsgType><![CDATA[text]]></MsgType>
    <Content><![CDATA[test]]></Content>
    </xml>
    
    特别备注：
    1）ToUserName（接受者）、FromUserName(发送者) 字段请实际填写。
    2）createtime 只用于标记开发者回复消息的时间，微信后台发送此消息都是不受这个字段约束。
    3）text : 用于标记 此次行为是发送文本消息 （当然可以是image/voice等类型）。
    4）文本换行 ‘\n’。	

	
2.3 回复success问题
    查询官方wiki 开头强调： 假如服务器无法保证在五秒内处理回复，则必须回复“success”或者“”（空串），否则微信后台会发起三次重试。
    解释一下为何有这么奇怪的规定。发起重试是微信后台为了尽可以保证粉丝发送的内容开发者均可以收到。如果开发者不进行回复，微信后台没办法确认开发者已收到消息，只好重试。 
    尝试一下收到消息后，不做任何回复。在日志中查看到微信后台发起了三次重试操作.
	三次重试后，依旧没有及时回复任何内容，系统自动在粉丝会话界面出现错误提示“该公众号暂时无法提供服务，请稍后再试”。
	如果回复success，微信后台可以确定开发者收到了粉丝消息，没有任何异常提示。因此请大家注意回复success的问题。


2.6  在线测试
	微信公众平台有提供一个在线测试的平台，方便开发者模拟场景测试代码逻辑。正如 2.2被动回复文本消息 交代此被动回复接口不同于客服接口，测试时也要注意区别。
	在线测试目的在于测试开发者代码逻辑是否有误、是否符合预期。即便测试成功也不会发送内容给粉丝。所以可以随意测试。	

	